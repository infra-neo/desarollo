# Architecture Configuration
# This file defines the infrastructure architecture for the deployment

project:
  name: "desarollo"
  description: "Full-stack application with DevOps automation"
  owner: "Ing. Benjamín Frías — DevOps & Cloud Specialist"
  
cloud:
  provider: "gcp"
  region: "us-central1"
  zone: "us-central1-a"

compute:
  vm:
    name: "desarollo-vm"
    machine_type: "e2-medium"
    disk_size_gb: 50
    disk_type: "pd-standard"
    os_image: "ubuntu-2204-lts"
    
network:
  vpc:
    name: "desarollo-vpc"
    auto_create_subnetworks: false
  
  subnet:
    name: "desarollo-subnet"
    ip_cidr_range: "10.0.0.0/24"
    
  static_ip:
    name: "desarollo-static-ip"
    
firewall:
  rules:
    - name: "allow-http"
      protocol: "tcp"
      ports: ["80"]
      source_ranges: ["0.0.0.0/0"]
      
    - name: "allow-https"
      protocol: "tcp"
      ports: ["443"]
      source_ranges: ["0.0.0.0/0"]
      
    - name: "allow-ssh"
      protocol: "tcp"
      ports: ["22"]
      source_ranges: ["0.0.0.0/0"]
      
    - name: "allow-swarm"
      protocol: "tcp"
      ports: ["2377", "7946"]
      source_ranges: ["10.0.0.0/8"]
      
    - name: "allow-swarm-udp"
      protocol: "udp"
      ports: ["7946", "4789"]
      source_ranges: ["10.0.0.0/8"]

observability:
  grafana:
    port: 3000
    admin_user: "admin"
    
  loki:
    port: 3100
    
  promtail:
    enabled: true

docker:
  swarm:
    enabled: true
    manager_nodes: 1
    worker_nodes: 0
